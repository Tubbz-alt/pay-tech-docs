---
title: Switching to live
weight: 100
---

# Set up a live Worldpay account

Please read the guidance on what to do [before you switch to
live](/switching_to_live/before_you_switch_to_live/#before-you-switch-to-live)
first.

Worldpay uses the term “production” for live accounts.

You should follow these instructions in order.

You can also read about setting up live
[ePDQ](/switching_to_live/set_up_a_live_epdq_account) and
[Smartpay](/switching_to_live/set_up_a_live_smartpay_account) accounts.

## Prerequisites

Before you begin, make sure you have an admin account with both Worldpay and GOV.UK Pay. You need an account with the Worldpay Corporate Gateway. We do not support the Worldpay Business Gateway. 

## Set up your merchant code

Sign in to your [Worldpay
account](https://secure.worldpay.com/sso/public/auth/login.html) and use
__Select MerchantCode__ to find your merchant code.

If __Switch to Production__ is at the bottom of the left-hand menu, toggle it on.

## Set up your profile

To set up your profile, you need to copy credentials from your Worldpay account
into your GOV.UK Pay account.

You must separately sign in to both your [Worldpay
account](https://secure.worldpay.com/sso/public/auth/login.html) and your
[GOV.UK Pay account](https://selfservice.payments.service.gov.uk/login). You
should have both accounts open, in different web browser tabs.

1. In your Worldpay browser tab, select __Profile__ in the left-hand menu. If you
are prompted to choose a merchant code, select the appropriate one.

1. In your GOV.UK Pay browser tab, go to __My services__ to select the live
service you want to set up. Select __Settings__, then __Account credentials__,
then __Edit credentials__.

1. In Worldpay, copy the Worldpay __Merchant Code__ from __Identification__ into
the GOV.UK Pay __Merchant code__ field.

1. Copy the Worldpay __New Username__ into the GOV.UK Pay __Username__ field. 
(You must see the copy "Enable Original XML Username". If you see the copy "Disable Original XML Username" 
you must select the checkbox and hit the "Save Profile button at the bottom of the page)

1. Change the Worldpay XML password:

    <br> select the pencil icon next to __XML Password__ </br>
    <br> change the password and select __Add new Password__ </br>
    <br> select __OK__ to go back to the __Profile__ page </br>
    <br> select the pencil icon again, then __Complete__ then __OK__ </br>
    <br>

    > If you're setting up another GOV.UK Pay service using the same Worldpay
    merchant code, you should not need to change your XML password again. If
    you do change it in this situation, you will need to update your other
    services with the new XML password.  <br></br>

1. Enter the Worldpay XML password into the GOV.UK Pay __Password__ field.

1. In your GOV.UK Pay browser tab, select __Save credentials__ to go back to the
__Account credentials__ page.

1. In your Worldpay browser tab, go to the __Profile__ page. Go to the __Payment service__
section and set __Capture delay (days)__ to __0ff__ (not `0`).

## Set up “Merchant Channel”

In the left-hand menu of [your Worldpay
account](https://secure.worldpay.com/sso/public/auth/login.html), select
__Merchant Channel__.

You must edit the content in the _http_ row, under __Protocol__.

For __Merchant Channels (Production)__ and __Merchant Channels (Test)__, check
the following:

1. Under __Active__, select __yes__.
1. Set __Content__ to __xml__
1. Set __Address__ to
   `https://notifications.payments.service.gov.uk/v1/api/notifications/worldpay`.
1. Set __Method__ to __POST__.
1. Set __Client certificate__ to __no__.
1. Set the __email__ and __shopper
   email__ protocols to __no__.

For __Merchant Channel Events (Production)__ and __Merchant Channel Events
(Test)__, check the following in the __http__ row only:

__SIGNED_FORM_RECEIVED__

__SHOPPER_REDIRECTED__

__SENT_FOR_AUTHORISATION__

__AUTHORISED__

__ERROR__

__CANCELLED__

__CAPTURED__

__CAPTURE_FAILED__

__SETTLED__

__SETTLED_BY_MERCHANT__

__CHARGED_BACK__

__CHARGEBACK_REVERSED__

__INFORMATION_REQUESTED__

__INFORMATION_SUPPLIED__

__EXPIRED__

__SENT_FOR_REFUND__

__REFUNDED__

__REFUNDED_BY_MERCHANT__

__REFUSED__

__REFUSED_BY_BANK__

__REFUND_FAILED__

__REVOKE_REQUESTED__

__REVOKE_FAILED__

__REVOKED__

## Test your configuration

1. Contact your Worldpay account manager to confirm the cards you want to
   accept are set up. Make sure you only select [card types](https://selfservice.payments.service.gov.uk/card-types/summary) within GOV.UK Pay that are also enabled in your Worldpay account.
2. Make a test transaction on your live account. You can use [the GOV.UK Pay
   API](/api_reference) to do this. Make sure you use a live API key, not a test
   one. Use [payment links](/payment_links) if your service is not yet connected
   to GOV.UK Pay.
3. Sign in to your [GOV.UK Pay
   account](https://selfservice.payments.service.gov.uk/).
4. Go to the [__Transactions__
   page](https://selfservice.payments.service.gov.uk/transactions) and check
   your test transaction is in the list of transactions.
5. Select the test transaction and check if you can refund it.
6. Delete the payments link you created to make the test payment

> The refund option may take up to 20 minutes to appear after submitting the transaction.

If you are testing your integration with a [payment link](/payment_links), you
should open it in a separate browser tab to avoid confusion.

## Set up 3D Secure

Ask your Worldpay account manager to configure your merchant code to enable 3D
Secure for all payments.

When this is available, sign in to your [GOV.UK Pay
account](https://selfservice.payments.service.gov.uk/login). Go to __My
services__ to select the live service you want to set up. Select __Settings__,
then __3D Secure__ and then select __Turn 3D Secure on__.


